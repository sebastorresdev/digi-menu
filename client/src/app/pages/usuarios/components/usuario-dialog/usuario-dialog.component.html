<p-dialog header="Crear Usuario" [(visible)]="visible" modal [style]="{ width: '600px' }" (onHide)="cerrar()" #myDialog>
  <form class="grid grid-cols-2 gap-6 p-4" [formGroup]="usuarioForm">

    <!-- Empleado (una sola columna) -->
    <div class="col-span-2 w-full">
      <label for="empleado" class="block mb-1 font-semibold">Empleado</label>
      <p-autoComplete [suggestions]="empleadosFiltrados" (completeMethod)="buscarEmpleado($event)"
        formControlName="empleado" [dropdown]="true" fluid="true" [forceSelection]="true" optionLabel="nombreDni"
        [appendTo]="myDialog" placeholder="Buscar empleado..." class="w-full" />
    </div>

    <!-- Username y Rol en dos columnas -->
    <div>
      <label for="username" class="block mb-1 font-semibold">Nombre Usuario</label>
      <input pInputText id="username" formControlName="username" class="w-full" autocomplete="username" />
    </div>

    <div>
      <label for="rol" class="block mb-1 font-semibold">Rol</label>
      <p-select id="rol" [options]="roles" optionLabel="nombre" formControlName="rol" class="w-full"
        [appendTo]="myDialog" placeholder="Selecciona un rol" />
    </div>

    <!-- Contrase単a y repetir contrase単a en dos columnas -->
    <div>
      <label for="password" class="block mb-1 font-semibold">Contrase単a</label>
      <p-password id="password" formControlName="password" [feedback]="false" fluid="true" [toggleMask]="true"
        autocomplete="new-password" inputStyleClass="w-full" />
    </div>

    <div>
      <label for="repetirPassword" class="block mb-1 font-semibold">Repetir Contrase単a</label>
      <p-password id="repetirPassword" formControlName="repetirPassword" [feedback]="false" fluid="true"
        [toggleMask]="true" autocomplete="new-password" inputStyleClass="w-full" />
    </div>
  </form>

  <ng-template pTemplate="footer">
    <p-button label="Cancelar" (click)="cerrar()" severity="secondary" />
    <p-button label="Guardar" (click)="guardar()" [disabled]="!usuarioForm.valid" />
  </ng-template>
</p-dialog>
